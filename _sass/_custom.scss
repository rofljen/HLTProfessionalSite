// =============================================================================
// _sass/_custom.scss
// Streamlined Overrides for Minimal Mistakes Jekyll
// =============================================================================

//───────────────────────────────────────────────────────────────────────────────
// 1) Variables: Colors & Dimensions
//───────────────────────────────────────────────────────────────────────────────
$mint-bg         : #e8f1e8;
$teal-accent     : #a7d0bf;
$cool-blue       : #9bc5d7;
$dark-green      : #4a8d7c;

$sidebar-width   : 280px;
$content-width   : 850px;
$portfolio-width : 1000px;
$gap             : 2rem;
$card-padding    : 1rem;
$card-radius     : 0.5rem;

//───────────────────────────────────────────────────────────────────────────────
// 2) Base Typography & Body
//───────────────────────────────────────────────────────────────────────────────
html {
  font-size: 15px;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Lato', sans-serif;
  font-size: 0.933rem;
  line-height: 1.5;
  background: $mint-bg;
  color: #333;
}

h1, h2, h3, h4, h5, h6 {
  font-family: 'Montserrat', sans-serif;
  font-weight: 700;
  color: $teal-accent;
  margin-bottom: 0.75rem;
}

//───────────────────────────────────────────────────────────────────────────────
// 3) Links
//───────────────────────────────────────────────────────────────────────────────
a,
a:visited {
  color: $cool-blue;
  text-decoration: none;
}
a:hover {
  color: darken($cool-blue, 15%);
  text-decoration: underline;
}

//───────────────────────────────────────────────────────────────────────────────
// 4) Layout Containers
//───────────────────────────────────────────────────────────────────────────────
.layout-container,
.masthead__inner-wrap {
  margin: 0 auto;
  max-width: $content-width + $sidebar-width + $gap;
  padding: 0 1rem;
}

.layout-container {
  max-width: calc(#{$content-width} + #{$sidebar-width} + #{$gap});
}

//───────────────────────────────────────────────────────────────────────────────
// 5) Navigation
//───────────────────────────────────────────────────────────────────────────────
nav#site-nav,
nav.greedy-nav {
  max-width: $content-width;
  margin: 0 auto;
  background: #fff;
  border-radius: $card-radius;
  box-shadow: 0 2px 4px rgba(0,0,0,0.05);
  padding: 0.75rem 1rem;
}
nav#site-nav a {
  color: $dark-green;
  font-weight: 600;
  text-transform: uppercase;
  padding: 0.25rem 0.75rem;
  border-radius: 0.25rem;
  transition: background 0.2s;
}
nav#site-nav a:hover,
nav#site-nav a.active {
  background: lighten($dark-green, 25%);
}

//───────────────────────────────────────────────────────────────────────────────
// 6) Main Layout: Sidebar & Content
//───────────────────────────────────────────────────────────────────────────────
#main {
  display: flex;
  gap: $gap;
  margin: 1rem auto 0;
  max-width: calc(#{$content-width} + #{$sidebar-width} + #{$gap});
}

.site__aside,
.sidebar {
  flex: 0 0 $sidebar-width;
  max-width: $sidebar-width;
}

.page__inner-wrap {
  flex: 1;
  max-width: $content-width;
  margin: 0 auto;
  padding: 0;
}

//───────────────────────────────────────────────────────────────────────────────
// 7) Content Cards & Callouts
//───────────────────────────────────────────────────────────────────────────────
.card,
.entry-card,
.callout,
.page__inner-wrap > p {
  background: lighten($mint-bg, 15%);
  border-radius: $card-radius;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  padding: $card-padding;
  margin-bottom: $card-padding;
  max-width: $content-width;
  width: 100%;
}

//───────────────────────────────────────────────────────────────────────────────
// 8) Collapsible Sections
//───────────────────────────────────────────────────────────────────────────────
.collapsible-section {
  max-width: $content-width;
  margin: 1.5rem auto;
  border: 1px solid rgba(0,0,0,0.1);
  border-radius: 0.25rem;
  background: #fafafa;
}
.collapsible-section summary {
  padding: 0.75rem 1rem;
  cursor: pointer;
  font-weight: 600;
}
.collapsible-section summary::before {
  content: "▸ ";
  transition: transform 0.2s;
}
.collapsible-section[open] summary::before {
  content: "▾ ";
}
.collapsible-section > div {
  padding: 1rem;
  border-top: 1px solid rgba(0,0,0,0.05);
}

//───────────────────────────────────────────────────────────────────────────────
// 9) Responsive Tweaks
//───────────────────────────────────────────────────────────────────────────────
@media (max-width: 768px) {
  #main {
    flex-direction: column;
    max-width: 100%;
  }
  .site__aside,
  .sidebar {
    margin: 0 auto 1.5rem;
  }
  .page__inner-wrap {
    max-width: 100% !important;
    padding: 0 1rem;
  }
  nav#site-nav,
  nav.greedy-nav {
    flex-wrap: nowrap;
    overflow-x: auto;
  }
  nav#site-nav a {
    white-space: nowrap;
    padding: 0.5rem 0.75rem;
  }
  nav.greedy-nav .visible-links {
    display: none !important;
  }
  nav.greedy-nav button,
  nav.greedy-nav button.hidden {
    display: inline-block !important;
  }
  nav.greedy-nav .hidden-links.hidden {
    display: none !important;
  }
  nav.greedy-nav .hidden-links:not(.hidden) {
    display: flex !important;
    flex-direction: column;
    gap: 0.5rem;
    margin-top: 1rem;
  }
}

//───────────────────────────────────────────────────────────────────────────────
// 10) Portfolio Page Overrides
//───────────────────────────────────────────────────────────────────────────────
body.collection-portfolio {
  .site__aside,
  .sidebar {
    display: none;
  }
  #main {
    display: grid;
    grid-template-columns: 1fr;
  }
  .page__inner-wrap {
    max-width: $portfolio-width;
    padding: 0 1rem;
  }
  .page__header .page__title {
    text-align: left;
  }
}
